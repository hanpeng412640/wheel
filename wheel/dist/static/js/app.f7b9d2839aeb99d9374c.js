webpackJsonp([9],{DTHR:function(t,n){},M93x:function(t,n,e){"use strict";var i=e("sEFh"),a=e.n(i),o=e("Tqxi");var r=function(t){e("DTHR")},c=e("C7Lr")(a.a,o.a,!1,r,null,null);n.default=c.exports},NHnr:function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e("IvJb"),a=e("M93x"),o=e("zO6J");i.a.use(o.a);var r=new o.a({mode:"history",routes:[{path:"*",redirect:"/index"},{path:"/index",name:"index",component:function(){return Promise.all([e.e(0),e.e(1)]).then(e.bind(null,"dAjm"))}},{path:"/detail",name:"detail",component:function(){return Promise.all([e.e(0),e.e(5)]).then(e.bind(null,"wHgX"))}},{path:"/color",component:function(){return Promise.all([e.e(0),e.e(3)]).then(e.bind(null,"3rbB"))}},{path:"/img",component:function(){return Promise.all([e.e(0),e.e(6)]).then(e.bind(null,"b0ui"))}},{path:"/Type",component:function(){return e.e(4).then(e.bind(null,"kMqs"))}},{path:"/quotation",component:function(){return Promise.all([e.e(0),e.e(2)]).then(e.bind(null,"5gQX"))}},{path:"/login",component:function(){return e.e(7).then(e.bind(null,"K31e"))}}]});r.beforeEach(function(t,n,e){window.localStorage.getItem("login")||"/login"==t.path||e("/login"),e()}),r.afterEach(function(t,n){console.log("路由跳转...")});var c=r,s=e("9rMa"),u=e("3cXf"),l=e.n(u),f=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GET",e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};/\?/.test(t)?t+="&_="+ +new Date:t+="?_="+ +new Date;var i={method:n};return"POST"==n&&(i.body=l()(e)),fetch(t,i).then(function(t){return t.json()})},m=/localhost:8080/gi.test(window.location.host)?"http://baojia.chelun.com":"https://baojia.chelun.com",d=function(t){var n="";return t&&(n+="provinceid="+t),f(m+"/v1-city-alllist.html?"+n)},h={namespaced:!0,state:{letters:[],brand:{},brandId:"",makelist:"",flag:!1,isShowList:!1},mutations:{initState:function(t,n){var e=[],i={};n.forEach(function(t){var n=t.Spelling[0];-1!=e.indexOf(n)?i[n].push(t):(e.push(n),i[n]=[t])}),t.letters=e,t.brand=i},changeMakeList:function(t,n){t.brandId=n.id,t.makelist=n.list,t.flag=!0,t.isShowList=!0},back:function(t){t.flag=!1},hideMakeList:function(t){t.isShowList=!1}},actions:{initState:function(t){var n=t.commit;f(m+"/v2-car-getMasterBrandList.html").then(function(t){n("initState",t.data)})},getMakeList:function(t,n){var e,i=t.commit,a=t.state;n!=a.brandId?(e=n,f(m+"/v2-car-getMakeListByMasterBrandId.html?MasterID="+e)).then(function(t){i("changeMakeList",{id:n,list:t.data})}):a.isShowList=!0}}},g=e("IHPB"),p=e.n(g),v=e("zsLt"),y=e.n(v),_={namespaced:!0,state:{info:{},currentyear:"全部"},getters:{years:function(t){if(!t.info.list)return[];var n=t.info.list.map(function(t){return t.market_attribute.year}),e=new y.a(n);return["全部"].concat(p()(e))},list:function(t){if(!t.info.list)return[];function n(t){var n=[],e={};return t.forEach(function(t){var i=t.exhaust_str+"/"+t.max_power_str+t.inhale_type;-1==n.indexOf(i)?(n.push(i),e[i]=[t]):e[i].push(t)}),e}return"全部"==t.currentyear?n(t.info.list):n(t.info.list.filter(function(n){return n.market_attribute.year==t.currentyear}))}},mutations:{changeyear:function(t,n){t.currentyear=n},getDetailList:function(t,n){n.list.sort(function(t,n){return t.market_attribute.year!=n.market_attribute.year?n.market_attribute.year-t.market_attribute.years:n.exhaust_str>t.exhaust_str?-1:n.exhaust_str<t.exhaust_str?1:n.max_power_str>t.max_power_str?-1:n.max_power_str<t.max_power_str?1:n.market_attribute.dealer_price_min>t.market_attribute.dealer_price_min?-1:1}),t.info=n}},actions:{getDetail:function(t,n){var e,i=t.commit;(e=n,f(m+"/v2-car-getInfoAndListById.html?SerialID="+e)).then(function(t){i("getDetailList",t.data)})}}},b={isShowCity:!1,currentCity:"",quotionList:{},city:{}},I={getQuotation:function(t){function n(n,e){return t.apply(this,arguments)}return n.toString=function(){return t.toString()},n}(function(t,n){var e=t.commit;console.log(n,b.city.id),getQuotation(n,b.city.id).then(function(t){e("getquotionList",t.data)})})},L={namespaced:!0,state:b,mutations:{showCity:function(t,n){t.isShowCity=n},updateCity:function(t,n){t.city=n,t.isShowCity=!1},getquotionList:function(t,n){t.quotionList=n}},actions:I},w={namespaced:!0,state:{ImgList:{},ImgDetailList:{},carID:""},mutations:{changeImg:function(t,n){t.ImgList=n.data,t.carID=n.id,n.data.forEach(function(t){t.List.forEach(function(t){var n=t.Url.replace(/\{0\}/,"3");t.Url=n})}),console.log(n)},ImgDetail:function(t,n){}},actions:{getImg:function(t,n){var e,i=t.commit;(e=n,f(m+"/v2-car-getImageList.html?SerialID="+e)).then(function(t){i("changeImg",{id:n,data:t.data})})},getImgDetailList:function(t,n){var e=t.commit;(function(t,n,e,i){var a="SerialID="+t+"&ImageID="+n+"&Page="+(arguments.length>4&&void 0!==arguments[4]?arguments[4]:1)+"&PageSize="+(arguments.length>5&&void 0!==arguments[5]?arguments[5]:30);return e&&(a+="&ColorID="+e),i&&(a+="&CarID="+i),f(m+"/v2-car-getCategoryImageList.html?"+a)})(n).then(function(t){e("ImgDetail",t.data)})}}},S={namespaced:!0,state:{ColorList:{},isShow:!0},mutations:{changeColor:function(t,n){t.ColorList=n,Obejct.keys(n),console.log(Obejct.keys(n))}},actions:{getColorList:function(t,n){var e,i=t.commit;(e=n,f(m+"/v2-car-getModelImageYearColor.html?SerialID="+e)).then(function(t){console.log(t.data),i("changeColor",t.data)})}}},C={namespaced:!0,state:{locationCity:"",provinces:[],cities:[],isShowCity:!1},mutations:{updateProvinces:function(t,n){t.provinces=n.data},updateCities:function(t,n){t.cities=n.data,t.isShowCity=!0},hideCity:function(t,n){t.isShowCity=!1}},actions:{getCityList:function(t,n){var e=t.commit;n?d(n).then(function(t){e("updateCities",t)}):d().then(function(t){e("updateProvinces",t)})}}};i.a.use(s.a);var x=new s.a.Store({modules:{index:h,detail:_,quotation:L,img:w,color:S,city:C}}),D=e("zdS3"),k=e.n(D);i.a.config.productionTip=!1,i.a.use(k.a,{preLoad:1.3,error:"dist/error.png",loading:"../static/lazyload.png",attempt:1}),new i.a({el:"#app",router:c,store:x,components:{App:a.default},template:"<App/>"})},Tqxi:function(t,n,e){"use strict";var i={render:function(){var t=this.$createElement,n=this._self._c||t;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},staticRenderFns:[]};n.a=i},sEFh:function(t,n){}},["NHnr"]);
//# sourceMappingURL=app.f7b9d2839aeb99d9374c.js.map